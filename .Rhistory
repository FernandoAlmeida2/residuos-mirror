q()
n
st_read(shp_fname)
ecopontos
ecopontos
ecopontos
ecopontos
install.packages("rpostgis")
conn
pgPostGIS(conn)
ecopontos
library(ggplot2)
ecopontos %>% ggplot() + geom_sf()
q()
y
ls()
q()
n
q()
n
ttt
ttt %>% as_tibble
ttt %>% glimpse
q()
n
st_read(conn, layer = "br_iplanfor_ecopontos")
st_read(conn, layer = "br_iplanfor_ecopontos", geometry_column = "geometry")
st_read(conn, layer = "br_iplanfor_ecopontos")
st_read(conn, layer = "br_iplanfor_ecopontos") %>% as_tibble
st_read(conn, layer = "br_iplanfor_ecopontos", geometry_column = geometry)
st_read(conn, layer = "br_iplanfor_ecopontos", geometry_column = "geometry")
st_read(conn, layer = "br_iplanfor_ecopontos")
ecopontos
ecopontos %>% glimpse
q()
n
q()
n
read.xlsx2("2016.xlsx", header=TRUE, colClasses="character")
read.xlsx2("2016.xlsx", 0, header=TRUE, colClasses="character")
read.xlsx2("2016.xlsx", 1, header=TRUE, colClasses="character")
read.xlsx("2016.xlsx", 1)
read_excel("2016.xlsx")
relatorio_pesagem
relatorio_pesagem
relatorio_pesagem %>% glimpse
fname
q()
n
shp_fortaleza
install.packages("leafpop")
?leaflet::addMarkers
q()
n
list.files(paste(ano))
library(pool)
library(RPostgres)
library(tidyverse)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.Date(data))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(timestamp == lubridate::dmy("2021-08-01"))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(timestamp == lubridate::dmy("2021-08-01", "%yyyy-%mm-%dd"))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(timestamp == lubridate::dmy("2021-08-01", "%Y-%m-%d"))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(timestamp == lubridate::dmy("01/08/2021))
)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(timestamp == lubridate::dmy("01/08/2021"))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(timestamp < lubridate::dmy("01/08/2021"))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(timestamp > lubridate::dmy("01/08/2021"))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(timestamp > as.POSIXct("01/08/2021"))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(lubridate::day(timestamp) == 01)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(lubridate::day(timestamp) > 01)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(lubridate::month(timestamp) == 05)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(lubridate::month(timestamp) == 04)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(lubridate::month(timestamp) == 03)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(lubridate::month(timestamp) == 02)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(lubridate::month(timestamp) == 2)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(lubridate::month(timestamp) == 1)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(lubridate::month(timestamp) == 12)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(lubridate::month(timestamp) == 1)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) # %>% filter(lubridate::month(timestamp) == 1)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(lubridate::month(timestamp) == 8)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(lubridate::month(timestamp) == 9)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% select(data) %>% mutate(timestamp = as.POSIXct(data)) %>% filter(lubridate::month(timestamp) == 11)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% glimpse
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% pull(tipo) %>% unique
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% group_by(tipo) %>% summarise(ttt = sum(as.numeric(quantidade_kg)))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% group_by(tipo) %>% summarise(ttt = sum(as.numeric(quantidade_kg))) %>% arrange(-ttt)
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% group_by(tipo) %>% summarise(ttt = sum(as.numeric(quantidade_kg))) %>% arrange(-ttt) %>% mutate(perc = ttt/sum(ttt))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% group_by(tipo) %>% summarise(ttt = sum(as.numeric(quantidade_kg))) %>% arrange(-ttt) %>% mutate(perc = 100*ttt/sum(ttt))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% glimpse#group_by(tipo) %>% summarise(ttt = sum(as.numeric(quantidade_kg))) %>% arrange(-ttt) %>% mutate(perc = 100*ttt/sum(ttt))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2021")) %>%  collect %>% group_by(ecoponto) %>% count #glimpse#group_by(tipo) %>% summarise(ttt = sum(as.numeric(quantidade_kg))) %>% arrange(-ttt) %>% mutate(perc = 100*ttt/sum(ttt))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2022")) %>%  collect %>% group_by(ecoponto) %>% count #glimpse#group_by(tipo) %>% summarise(ttt = sum(as.numeric(quantidade_kg))) %>% arrange(-ttt) %>% mutate(perc = 100*ttt/sum(ttt))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2023")) %>%  collect %>% group_by(ecoponto) %>% count #glimpse#group_by(tipo) %>% summarise(ttt = sum(as.numeric(quantidade_kg))) %>% arrange(-ttt) %>% mutate(perc = 100*ttt/sum(ttt))
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2023")) %>% collect
dplyr::tbl(obsr, sprintf("br_ecofor_ecoponto_barra_do_ceara_2023")) %>% collect %>% glimpse
dplyr::tbl(obsr, sprintf("br_iplanfor_ecopontos")) %>% collect %>% glimpse
dplyr::tbl(obsr, sprintf("br_iplanfor_ecopontos")) %>% collect %>% glimpse %>% pull(nome) %>% unique
dplyr::tbl(obsr, sprintf("br_iplanfor_ecopontos")) %>% collect %>% glimpse %>% pull(nome) %>% unique
dplyr::tbl(obsr, sprintf("br_iplanfor_ecopontos")) %>% collect %>% glimpse 
getwd()
q()
n
shiny::shinyAppDir(".")
shiny::shinyAppDir(".")
shiny::shinyAppDir(".")
q()
n
